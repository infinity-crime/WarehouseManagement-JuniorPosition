@page "{id}"
@model WarehouseManagement.Web.Pages.Directories.Units.FormModel
@{
    ViewData["Title"] = Model.IsNewUnit ? "Добавить единицу измерения" : "Редактировать единицу измерения";
}

@if(!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <div class="alert alert-danger">
        @Model.ErrorMessage
    </div>
}

<form method="post">
    <div class="form-container">
        <div class="form-group">
            <label asp-for="Input">Наименование </label>
            <input asp-for="Input" class="form-control" required
                   placeholder="Введите название единицы измерения" maxlength="10" />
            <span asp-validation-for="Input" class="text-danger"></span>
        </div>

        <div class="button-group">
            <button type="submit" asp-page-handler="Save" class="btn btn-primary">
                @(Model.IsNewUnit ? "Добавить" : "Сохранить")
            </button>

            @if (!Model.IsNewUnit)
            {
                <button type="submit" asp-page-handler="Delete" class="btn btn-danger">Удалить</button>
                @if(Model.CurrentUnit!.State == Domain.Enums.Status.Archive)
                {
                    <button type="submit" asp-page-handler="ToWork" class="btn btn-secondary">К работе</button>
                }
                else
                {
                    <button type="submit" asp-page-handler="Archive" class="btn btn-secondary">В архив</button>
                }
            }

            <a asp-page="Main" class="btn btn-outline-secondary">Отмена</a>
        </div>
    </div>
</form>